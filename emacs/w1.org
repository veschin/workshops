#+title: Emacs Doom –í–æ—Ä–∫—à–æ–ø 1
#+author: veschin
#+language: ru

* –í—Å—Ç—É–ø–ª–µ–Ω–∏–µ
** –ß—Ç–æ —Ç–∞–∫–æ–µ Emacs
–≠—Ç–æ —Ç–µ–∫—Å—Ç–æ–≤—ã–π —Ä–µ–¥–∞–∫—Ç–æ—Ä,
–∫–æ—Ç–æ—Ä—ã–π –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è –≤—ã—Å–æ–∫–æ–π —Å—Ç–µ–ø–µ–Ω—å—é –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º–æ—Å—Ç–∏ –∏ —Ä–∞—Å—à–∏—Ä—è–µ–º–æ—Å—Ç–∏.
–≠—Ç–æ –ø–æ–ø—É–ª—è—Ä–Ω—ã–π –≤—ã–±–æ—Ä –¥–ª—è –ø—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç–æ–≤ –∏ –¥—Ä—É–≥–∏—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π,
–∫–æ—Ç–æ—Ä—ã–º –Ω—É–∂–µ–Ω –º–æ—â–Ω—ã–π –∏ –≥–∏–±–∫–∏–π —Ç–µ–∫—Å—Ç–æ–≤—ã–π —Ä–µ–¥–∞–∫—Ç–æ—Ä.

** –ó–∞—á–µ–º –æ–Ω –Ω—É–∂–µ–Ω, –∫–æ–≥–¥–∞ –µ—Å—Ç—å VSCode, Sublime, IDEA ...
| Feature                               | Emacs | VS Code | IntelliJ IDEA |
|---------------------------------------+-------+---------+---------------|
| –°—Ç–æ–∏–º–æ—Å—Ç—å                             | Free  | Free    | Paid          |
|                                       |       |         |               |
| –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º–æ—Å—Ç—å                       | High  | Medium  | Low           |
| –†–∞—Å—à–∏—Ä—è–µ–º–æ—Å—Ç—å                         | High  | Medium  | Low           |
| –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —è–∑—ã–∫–∏ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è | Many  | Many    | Many          |
| –§—É–Ω–∫—Ü–∏–∏ –∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã                 | Many  | Many    | Many          |
| –°–∫–æ—Ä–æ—Å—Ç—å —Ä–∞–±–æ—Ç—ã                       | Fast  | Fast    | Medium/Slow   |
| –ö—Ä–∏–≤–∞—è –æ–±—É—á–µ–Ω–∏—è                       | Steep | Medium  | Medium        |
| –°–æ–æ–±—â–µ—Å—Ç–≤–æ                            | Large | Large   | Large         |
| –ü–æ–ø—É–ª—è—Ä–Ω–æ—Å—Ç—å                          | High  | High    | High          |

** –§–∏—á–∏
-  –ü–æ–¥—Å—Ç–≤–µ—Ç–∫–∞ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞
-  –ê–≤—Ç–æ–∫–æ–º–ø–ª–∏—Ç
-  –û—Ç–ª–∏—á–Ω—ã–π –ø–æ–∏—Å–∫
-  –†–∞—Å—à–∏—Ä–µ–Ω–∏—è
*** –ë—É—Ñ—Ñ–µ—Ä—ã
–¢–µ–∫—Å—Ç, –∫–æ—Ç–æ—Ä—ã–π –≤—ã —Ä–µ–¥–∞–∫—Ç–∏—Ä—É–µ—Ç–µ –≤ Emacs, –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ –æ–±—ä–µ–∫—Ç–µ, –Ω–∞–∑—ã–≤–∞–µ–º–æ–º –±—É—Ñ–µ—Ä–æ–º.
–ö–∞–∂–¥—ã–π —Ä–∞–∑, –∫–æ–≥–¥–∞ –≤—ã –ø–æ—Å–µ—â–∞–µ—Ç–µ —Ñ–∞–π–ª, –±—É—Ñ–µ—Ä –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –µ–≥–æ —Ç–µ–∫—Å—Ç–∞.
- *Messages*
- *scratch*
*** Org
https://orgmode.org/features.html
–§–æ—Ä–º–∞—Ç —Ç–µ–∫—Å—Ç–∞, —Å–æ—Å—Ç–æ—è—â–∏–π –∏–∑ –ø—Ä–æ—Å—Ç—ã—Ö, –Ω–æ —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã—Ö —Ñ–æ—Ä–º, –∫–æ—Ç–æ—Ä—ã–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—é—Ç —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é.
*** Magit
https://magit.vc/
–ü–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç–æ–≤—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è Git.
–û–Ω –∑–∞–ø–æ–ª–Ω—è–µ—Ç –ø—Ä–æ–±–µ–ª –º–µ–∂–¥—É –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏ Git –∏ —Ä–∞–∑–ª–∏—á–Ω—ã–º–∏ –≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–º–∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞–º–∏,
–ø–æ–∑–≤–æ–ª—è—è –≤–∞–º –≤—ã–ø–æ–ª–Ω—è—Ç—å –∫–∞–∫ —Ç—Ä–∏–≤–∏–∞–ª—å–Ω—ã–µ,
—Ç–∞–∫ –∏ —Å–ª–æ–∂–Ω—ã–µ –∑–∞–¥–∞—á–∏ –∫–æ–Ω—Ç—Ä–æ–ª—è –≤–µ—Ä—Å–∏–π —Å –ø–æ–º–æ—â—å—é –≤—Å–µ–≥–æ –ª–∏—à—å –ø–∞—Ä—ã –Ω–∞–∂–∞—Ç–∏–π –º–Ω–µ–º–æ–Ω–∏—á–µ—Å–∫–∏—Ö –∫–ª–∞–≤–∏—à.
*** LSP
https://github.com/emacs-lsp/lsp-mode
Language Server Protocol (LSP) - —ç—Ç–æ –æ—Ç–∫—Ä—ã—Ç—ã–π –ø—Ä–æ—Ç–æ–∫–æ–ª –Ω–∞ –æ—Å–Ω–æ–≤–µ JSON-RPC –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –º–µ–∂–¥—É —Ä–µ–¥–∞–∫—Ç–æ—Ä–∞–º–∏ –∏—Å—Ö–æ–¥–Ω–æ–≥–æ –∫–æ–¥–∞ –∏–ª–∏ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–º–∏ —Å—Ä–µ–¥–∞–º–∏ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ (IDE) –∏ —Å–µ—Ä–≤–µ—Ä–∞–º–∏,
–ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—é—â–∏–º–∏ —Å–ø–µ—Ü–∏—Ñ–∏—á–µ—Å–∫–∏–µ –¥–ª—è —è–∑—ã–∫–∞ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–∏,
—Ç–∞–∫–∏–µ –∫–∞–∫ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ –∫–æ–¥–∞, –ø–æ–¥—Å–≤–µ—Ç–∫–∞ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞ –∏ –º–∞—Ä–∫–∏—Ä–æ–≤–∫–∞ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–π –∏ –æ—à–∏–±–æ–∫,
–∞ —Ç–∞–∫–∂–µ –ø—Ä–æ—Ü–µ–¥—É—Ä—ã —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞.

–¶–µ–ª—å –ø—Ä–æ—Ç–æ–∫–æ–ª–∞ - –ø–æ–∑–≤–æ–ª–∏—Ç—å —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –∏ —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–∏—Ç—å –ø–æ–¥–¥–µ—Ä–∂–∫—É —è–∑—ã–∫–∞ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è
~–Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Ä–µ–¥–∞–∫—Ç–æ—Ä–∞ –∏–ª–∏ IDE~.
*** Finder
- –ü–æ–∏—Å–∫ –ø–æ –ø—Ä–æ–µ–∫—Ç—É
  ~SPC s p~
- –ü–æ–∏—Å–∫ —Ñ–∞–π–ª–∞
  ~SPC SPC~
- –ü–æ–∏—Å–∫ –ø–æ –±—É—Ñ—Ñ–µ—Ä—É
  ~SPC s s~
- –ü–æ–∏—Å–∫ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Ñ–∞–π–ª–∞
  ~SPC f f~
- Dired
  ~C-x d~

* –£—Å—Ç–∞–Ω–æ–≤–∫–∞
** –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ [0/4]
- [ ] git
- [ ] emacs
- [ ] ripgrep
- [ ] fd
#+begin_src bash
brew install git emacs ripgrep fd
# or
sudo apt-get install git emacs ripgrep fd
#+end_src
** Doom
#+begin_src bash
git clone --depth 1 https://github.com/doomemacs/doomemacs ~/.config/emacs
~/.config/emacs/bin/doom install
#+end_src
** –ù–∞—Å—Ç—Ä–æ–π–∫–∞
*** EmacsLisp
–ü—Ä–æ—Å—Ç–æ —Ä–∞–Ω–¥–æ–º–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏, —á—Ç–æ–±—ã –≤—ã –Ω–µ –ø—É–≥–∞–ª–∏—Å—å, –∫–æ–≥–¥–∞ —É–≤–∏–¥–∏—Ç–µ
#+begin_src elisp
(defun my-function ()
  "This function prints 'Hello, world!'."
  (message "Hello, world!"))

(setq my-variable "Hello, world!")

(while (< my-counter 10)
  (message "The counter is %d." my-counter)
  (setq my-counter (+ my-counter 1)))

(if (> my-number 10)
    (message "The number is greater than 10.")
    (message "The number is less than or equal to 10."))

(defun print-date-and-time ()
  (message "The current date and time is: %s"
           (format-time-string "%Y-%m-%d %H:%M:%S")))
#+end_src
*** –ì–¥–µ –∏—Å–∫–∞—Ç—å –æ—Ç–≤–µ—Ç—ã
- Emacs Ru
  https://t.me/emacs_ru
- Clojure Ru / Emacs Thread
  https://t.me/clojure_ru/198186
- Quick Guide
  https://github.com/doomemacs/doomemacs/blob/master/docs/getting_started.org
  https://docs.doomemacs.org/latest/
- –ú–µ–≥–∞–º—É–∂–∏–∫
  https://www.youtube.com/@DistroTube
- Reddit
  https://www.reddit.com/r/emacs/
*** Configs
–í ~doom~ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏, –ª–µ–∂–∏—Ç —Ñ–∞–π–ª ~config.el~
–í –Ω–µ–º –º–æ–∂–Ω–æ –ø–∏—Å–∞—Ç—å –≤—Å–µ —Å–≤–æ–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
#+begin_src emacs-lisp
(setq doom-font "Source Code Pro"
      doom-font-size 14
      doom-theme "doom-one")
#+end_src
*** Init
#+begin_src emacs-lisp
(doom! :input

       :completion
       company           ; the ultimate code completion backend
       (vertico +icons)           ; the search engine of the future

       :ui
       doom              ; what makes DOOM look the way it does
       doom-dashboard    ; a nifty splash screelln for Emacs
       (emoji +unicode)  ; üôÇ
       hl-todo           ; highlight TODO/FIXME/NOTE/DEPRECATED/HACK/REVIEW
       ligatures         ; ligatures and symbols to make your code pretty again
       modeline          ; snazzy, Atom-inspired modeline, plus API
       nav-flash         ; blink cursor line after big motions
       (popup +defaults)   ; tame sudden yet inevitable temporary windows
       treemacs          ; a project drawer, like neotree but cooler
       unicode           ; extended unicode support for various languages
       vc-gutter         ; vcs diff in the fringe
       vi-tilde-fringe   ; fringe tildes to mark beyond EOB
       workspaces        ; tab emulation, persistence & separate workspaces
       zen               ; distraction-free coding or writing

       :editor
       (evil +everywhere); come to the dark side, we have cookies
       file-templates    ; auto-snippets for empty files
       fold              ; (nigh) universal code folding
       format  ; automated prettiness
       snippets          ; my elves. They type so I don't have to

       :emacs
       dired             ; making dired pretty [functional]
       electric          ; smarter, keyword-based electric-indent
       undo              ; persistent, smarter undo for your inevitable mistakes
       vc                ; version-control and Emacs, sitting in a tree

       :term

       :checkers

       :tools
       lookup              ; navigate your code and its documentation
       lsp               ; M-x vscode
       magit             ; a git porcelain for Emacs

       :os
       (:if IS-MAC macos)  ; improve compatibility with macOS

       :lang
       (clojure +lsp)      ; java with a lisp
       (go +lsp)         ; the hipster dialect
       (java +lsp)       ; the poster child for carpal tunnel syndrome
       (javascript +lsp)        ; all(hope(abandon(ye(who(enter(here))))))
       (yaml +lsp)              ; JSON, but readable
       (python +lsp)            ; beautiful is better than ugly
       emacs-lisp        ; drown in parentheses
       json              ; At least it ain't XML
       markdown          ; writing docs for people to ignore
       org               ; organize your plain life in plain text
       sh                ; she sells {ba,z,fi}sh shells on the C xor

       :email
       (mu4e +org +gmail)

       :app

       :config
       literate
       (default +bindings +smartparens))
#+end_src


* –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
** Evil Mode
–£ Vim —Ç—Ä–∏ –æ—Å–Ω–æ–≤–Ω—ã—Ö –º–æ–¥–∞:
- Normal mode —Ä–µ–∂–∏–º –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é. –í –Ω–µ–º –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–æ—á–µ—Ç–∞–Ω–∏—è –∫–ª–∞–≤–∏—à –¥–ª—è –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏—è –ø–æ —Ç–µ–∫—Å—Ç—É –∏ –µ–≥–æ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è.
- Insert mode –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –≤—Å—Ç–∞–≤–∫–∏ —Ç–µ–∫—Å—Ç–∞ –≤ —Ñ–∞–π–ª. –ß—Ç–æ–±—ã –≤–æ–π—Ç–∏ –≤ —Ä–µ–∂–∏–º, –Ω–∞–∂–º–∏—Ç–µ ~i~.
- Visual mode –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –≤—ã–¥–µ–ª–µ–Ω–∏—è —Ç–µ–∫—Å—Ç–∞. –ß—Ç–æ–±—ã –ø–µ—Ä–µ–π—Ç–∏ –≤ —Ä–µ–∂–∏–º, –Ω–∞–∂–º–∏—Ç–µ ~v~.
*** –ß—Ç–æ –∏—Å–ø–æ–ª—å–∑—É—é —è

| Key | Description                              |
|-----+------------------------------------------|
| v   | –ó–∞–ø—É—Å—Ç–∏—Ç—å Visual mode                    |
| V   | –ó–∞–ø—É—Å—Ç–∏—Ç—å Visual mode –∏ –≤—ã–¥–µ–ª–∏—Ç–µ —Å—Ç—Ä–æ–∫—É  |
| d   | –£–¥–∞–ª–∏—Ç—å —Ç–µ–∫—É—â–∏–π —Å–∏–º–≤–æ–ª                   |
| dd  | –£–¥–∞–ª–∏—Ç—å —Å—Ç—Ä–æ–∫—É                           |
| y   | –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –≤—ã–¥–µ–ª–µ–Ω–Ω—ã–π —Å–∏–º–≤–æ–ª            |
| p   | –í—Å—Ç–∞–≤–∏—Ç—å –ø–µ—Ä–µ–¥ –∫—É—Ä—Å–æ—Ä–æ–º                  |
| P   | –í—Å—Ç–∞–≤–∏—Ç—å –ø–æ—Å–ª–µ –∫—É—Ä—Å–æ—Ä–∞                   |
| gg  | –ü–µ—Ä–µ–º–µ—Å—Ç–∏—Ç—å—Å—è –≤ –Ω–∞—á–∞–ª–æ —Ñ–∞–π–ª–∞             |
| G   | –ü–µ—Ä–µ–º–µ—Å—Ç–∏—Ç—å—Å—è –≤ –∫–æ–Ω–µ—Ü —Ñ–∞–π–ª–∞              |
| x   | –£–¥–∞–ª–∏—Ç—å —Å–∏–º–≤–æ–ª –ø–æ–¥ –∫—É—Ä—Å–æ—Ä–æ–º              |
| r   | –ó–∞–º–µ–Ω–∏—Ç—å —Ç–µ–∫—É—â–∏–π —Å–∏–º–≤–æ–ª –¥—Ä—É–≥–∏–º —Å–∏–º–≤–æ–ª–æ–º  |
| i   | –í—Å—Ç–∞–≤–∏—Ç—å —Ç–µ–∫—Å—Ç –ø–æ–¥ –∫—É—Ä—Å–æ—Ä–æ–º              |
| o   | –û—Ç–∫—Ä—ã—Ç—å –Ω–æ–≤—É—é —Å—Ç—Ä–æ–∫—É –ø–æ–¥ —Ç–µ–∫—É—â–µ–π —Å—Ç—Ä–æ–∫–æ–π |
| O   | –û—Ç–∫—Ä—ã—Ç—å –Ω–æ–≤—É—é —Å—Ç—Ä–æ–∫—É –Ω–∞–¥ —Ç–µ–∫—É—â–µ–π —Å—Ç—Ä–æ–∫–æ–π |

** Demo
#+begin_src bash
du -h -d 1 ../repos
#+end_src

#+RESULTS:
| 97M  | ../repos/go         |
| 53M  | ../repos/python     |
| 11M  | ../repos/typescript |
| 161M | ../repos            |
